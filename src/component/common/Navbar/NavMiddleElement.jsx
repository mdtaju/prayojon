import { Badge, Tooltip } from '@mui/material';
import { useSession } from 'next-auth/react';
import Link from 'next/link';
import { useRouter } from 'next/router';
import React from 'react';
import { useGetCartItemsQuery } from '../../../features/cart/cartApi';

const NavMiddleElement = ({ toolTitle, activeLink }) => {
      const { data: session } = useSession();
      const { data: cartItems } = useGetCartItemsQuery(session?.user?.email);
      const router = useRouter();

      // icon render 
      let IconContent;
      if (toolTitle === "Home") {
            if (router.pathname === activeLink) {
                  IconContent = <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4.5 13.5L18 3L31.5 13.5V30C31.5 30.7956 31.1839 31.5587 30.6213 32.1213C30.0587 32.6839 29.2956 33 28.5 33H7.5C6.70435 33 5.94129 32.6839 5.37868 32.1213C4.81607 31.5587 4.5 30.7956 4.5 30V13.5Z" stroke="#1979F4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M13.5 33V18H22.5V33" stroke="#1979F4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
            } else {
                  IconContent = <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4.5 13.5L18 3L31.5 13.5V30C31.5 30.7956 31.1839 31.5587 30.6213 32.1213C30.0587 32.6839 29.2956 33 28.5 33H7.5C6.70435 33 5.94129 32.6839 5.37868 32.1213C4.81607 31.5587 4.5 30.7956 4.5 30V13.5Z" stroke="#8190A3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M13.5 33V18H22.5V33" stroke="#8190A3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
            }
      }
      if (toolTitle === "Marketplace") {
            if (router.pathname === activeLink) {
                  IconContent = <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_405_168)">
                              <path d="M28 30H16V22H14V30H8V22H6V30C6 30.5304 6.21071 31.0391 6.58579 31.4142C6.96086 31.7893 7.46957 32 8 32H28C28.5304 32 29.0391 31.7893 29.4142 31.4142C29.7893 31.0391 30 30.5304 30 30V22H28V30Z" fill="#1979F4" />
                              <path d="M33.79 13.27L29.71 5.11C29.5444 4.77679 29.2892 4.49637 28.973 4.30028C28.6568 4.10419 28.2921 4.0002 27.92 4H8.08002C7.70793 4.0002 7.34328 4.10419 7.02706 4.30028C6.71084 4.49637 6.45559 4.77679 6.29002 5.11L2.21002 13.27C2.07071 13.5495 1.99879 13.8577 2.00002 14.17V17.25C1.9991 17.7173 2.16185 18.1702 2.46002 18.53C2.90067 19.0351 3.44491 19.4395 4.05575 19.7156C4.66658 19.9916 5.32969 20.133 6.00002 20.13C7.09379 20.1317 8.1542 19.7535 9.00002 19.06C9.84582 19.7539 10.906 20.1331 12 20.1331C13.094 20.1331 14.1542 19.7539 15 19.06C15.8458 19.7539 16.906 20.1331 18 20.1331C19.094 20.1331 20.1542 19.7539 21 19.06C21.8458 19.7539 22.906 20.1331 24 20.1331C25.094 20.1331 26.1542 19.7539 27 19.06C27.9442 19.8352 29.1521 20.2142 30.3699 20.1172C31.5877 20.0202 32.7204 19.4549 33.53 18.54C33.8318 18.1816 33.9981 17.7285 34 17.26V14.17C34.0012 13.8577 33.9293 13.5495 33.79 13.27ZM30 18.13C29.5729 18.129 29.1522 18.0259 28.773 17.8294C28.3938 17.6328 28.067 17.3484 27.82 17L27 15.88L26.19 17C25.9383 17.3431 25.6093 17.6221 25.2297 17.8144C24.8501 18.0067 24.4305 18.1069 24.005 18.1069C23.5795 18.1069 23.1599 18.0067 22.7803 17.8144C22.4007 17.6221 22.0717 17.3431 21.82 17L21 15.88L20.19 17C19.9383 17.3431 19.6093 17.6221 19.2297 17.8144C18.8501 18.0067 18.4305 18.1069 18.005 18.1069C17.5795 18.1069 17.1599 18.0067 16.7803 17.8144C16.4007 17.6221 16.0717 17.3431 15.82 17L15 15.88L14.19 17C13.9383 17.3431 13.6093 17.6221 13.2297 17.8144C12.8501 18.0067 12.4306 18.1069 12.005 18.1069C11.5795 18.1069 11.1599 18.0067 10.7803 17.8144C10.4007 17.6221 10.0717 17.3431 9.82001 17L9.00002 15.88L8.18002 17C7.93299 17.3484 7.60625 17.6328 7.22704 17.8294C6.84784 18.0259 6.42714 18.129 6.00002 18.13C5.62315 18.1346 5.24967 18.0584 4.9047 17.9066C4.55972 17.7548 4.25125 17.5309 4.00002 17.25V14.17L8.08002 6H27.92L32 14.16V17.22C31.7503 17.5049 31.4428 17.7334 31.098 17.8903C30.7531 18.0472 30.3789 18.1289 30 18.13Z" fill="#1979F4" />
                        </g>
                        <defs>
                              <clipPath id="clip0_405_168">
                                    <rect width="36" height="36" fill="white" />
                              </clipPath>
                        </defs>
                  </svg>
            } else {
                  IconContent = <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_405_168)">
                              <path d="M28 30H16V22H14V30H8V22H6V30C6 30.5304 6.21071 31.0391 6.58579 31.4142C6.96086 31.7893 7.46957 32 8 32H28C28.5304 32 29.0391 31.7893 29.4142 31.4142C29.7893 31.0391 30 30.5304 30 30V22H28V30Z" fill="#8190A3" />
                              <path d="M33.79 13.27L29.71 5.11C29.5444 4.77679 29.2892 4.49637 28.973 4.30028C28.6568 4.10419 28.2921 4.0002 27.92 4H8.08002C7.70793 4.0002 7.34328 4.10419 7.02706 4.30028C6.71084 4.49637 6.45559 4.77679 6.29002 5.11L2.21002 13.27C2.07071 13.5495 1.99879 13.8577 2.00002 14.17V17.25C1.9991 17.7173 2.16185 18.1702 2.46002 18.53C2.90067 19.0351 3.44491 19.4395 4.05575 19.7156C4.66658 19.9916 5.32969 20.133 6.00002 20.13C7.09379 20.1317 8.1542 19.7535 9.00002 19.06C9.84582 19.7539 10.906 20.1331 12 20.1331C13.094 20.1331 14.1542 19.7539 15 19.06C15.8458 19.7539 16.906 20.1331 18 20.1331C19.094 20.1331 20.1542 19.7539 21 19.06C21.8458 19.7539 22.906 20.1331 24 20.1331C25.094 20.1331 26.1542 19.7539 27 19.06C27.9442 19.8352 29.1521 20.2142 30.3699 20.1172C31.5877 20.0202 32.7204 19.4549 33.53 18.54C33.8318 18.1816 33.9981 17.7285 34 17.26V14.17C34.0012 13.8577 33.9293 13.5495 33.79 13.27ZM30 18.13C29.5729 18.129 29.1522 18.0259 28.773 17.8294C28.3938 17.6328 28.067 17.3484 27.82 17L27 15.88L26.19 17C25.9383 17.3431 25.6093 17.6221 25.2297 17.8144C24.8501 18.0067 24.4305 18.1069 24.005 18.1069C23.5795 18.1069 23.1599 18.0067 22.7803 17.8144C22.4007 17.6221 22.0717 17.3431 21.82 17L21 15.88L20.19 17C19.9383 17.3431 19.6093 17.6221 19.2297 17.8144C18.8501 18.0067 18.4305 18.1069 18.005 18.1069C17.5795 18.1069 17.1599 18.0067 16.7803 17.8144C16.4007 17.6221 16.0717 17.3431 15.82 17L15 15.88L14.19 17C13.9383 17.3431 13.6093 17.6221 13.2297 17.8144C12.8501 18.0067 12.4306 18.1069 12.005 18.1069C11.5795 18.1069 11.1599 18.0067 10.7803 17.8144C10.4007 17.6221 10.0717 17.3431 9.82001 17L9.00002 15.88L8.18002 17C7.93299 17.3484 7.60625 17.6328 7.22704 17.8294C6.84784 18.0259 6.42714 18.129 6.00002 18.13C5.62315 18.1346 5.24967 18.0584 4.9047 17.9066C4.55972 17.7548 4.25125 17.5309 4.00002 17.25V14.17L8.08002 6H27.92L32 14.16V17.22C31.7503 17.5049 31.4428 17.7334 31.098 17.8903C30.7531 18.0472 30.3789 18.1289 30 18.13Z" fill="#8190A3" />
                        </g>
                        <defs>
                              <clipPath id="clip0_405_168">
                                    <rect width="36" height="36" fill="white" />
                              </clipPath>
                        </defs>
                  </svg>
            }
      }
      if (toolTitle === "Cart") {
            if (router.pathname === activeLink) {
                  IconContent = <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6.75 6.75H33.75L30.375 21.375H10.125M30.375 25.875H11.25L5.625 2.25H2.25" stroke="#1979F4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M28.125 32.625C29.3676 32.625 30.375 31.6176 30.375 30.375C30.375 29.1324 29.3676 28.125 28.125 28.125C26.8824 28.125 25.875 29.1324 25.875 30.375C25.875 31.6176 26.8824 32.625 28.125 32.625Z" stroke="#1979F4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M13.5 32.625C14.7426 32.625 15.75 31.6176 15.75 30.375C15.75 29.1324 14.7426 28.125 13.5 28.125C12.2574 28.125 11.25 29.1324 11.25 30.375C11.25 31.6176 12.2574 32.625 13.5 32.625Z" stroke="#1979F4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
            } else {
                  IconContent = <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6.75 6.75H33.75L30.375 21.375H10.125M30.375 25.875H11.25L5.625 2.25H2.25" stroke="#8190A3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M28.125 32.625C29.3676 32.625 30.375 31.6176 30.375 30.375C30.375 29.1324 29.3676 28.125 28.125 28.125C26.8824 28.125 25.875 29.1324 25.875 30.375C25.875 31.6176 26.8824 32.625 28.125 32.625Z" stroke="#8190A3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M13.5 32.625C14.7426 32.625 15.75 31.6176 15.75 30.375C15.75 29.1324 14.7426 28.125 13.5 28.125C12.2574 28.125 11.25 29.1324 11.25 30.375C11.25 31.6176 12.2574 32.625 13.5 32.625Z" stroke="#8190A3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
            }


      }
      return (
            <li className={`h-full py-1 ${router.pathname === activeLink && "border-b-2 border-primary"}`}>
                  <Link href={activeLink}>
                        <Tooltip title={toolTitle} arrow>
                              <div className="nav_icon_btn">
                                    {
                                          toolTitle === 'Cart' ?
                                                <Badge badgeContent={cartItems?.length} color="primary">
                                                      {IconContent}
                                                </Badge> :
                                                <>
                                                      {IconContent}
                                                </>
                                    }
                              </div>
                        </Tooltip>
                  </Link>
            </li>
      );
};

export default NavMiddleElement;