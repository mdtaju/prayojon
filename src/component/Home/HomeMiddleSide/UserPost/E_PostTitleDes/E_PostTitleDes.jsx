import Link from 'next/link';
import React, { useEffect, useState } from 'react';


const E_PostTitleDes = ({ postContent = "", productTitle, location, category, id }) => {
      const [textExpand, setTextExpand] = useState(false);


      // description expand
      useEffect(() => {
            if (postContent.length > 200) {
                  setTextExpand(false)
            } else {
                  setTextExpand(true)
            }
      }, [postContent])
      return (
            <div className='w-full p-1 sm:p-4 '>
                  {/* title to description part */}
                  <div className=''>
                        <Link href={`/marketplace/${id}`} target='_blank' >
                              <h1 className='text-xl font-semibold text-gray-800 hover:underline'>{productTitle}</h1>
                        </Link>
                        {/* location and category container */}
                        <div className='flex items-center gap-4'>
                              <div className='flex items-center gap-1 mt-1 text-gray-500'>
                                    <div>
                                          {/* <FontAwesomeIcon
                                          icon={faLocationDot}
                                    /> */}
                                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <g clip-path="url(#clip0_405_299)">
                                                      <path fill-rule="evenodd" clip-rule="evenodd" d="M8 1.33331C9.5913 1.33331 11.1174 1.96545 12.2426 3.09067C13.3679 4.21589 14 5.74201 14 7.33331C14 9.38265 12.8827 11.06 11.7053 12.2633C11.117 12.8579 10.4752 13.3971 9.788 13.874L9.504 14.0673L9.37067 14.156L9.11933 14.316L8.89533 14.4526L8.618 14.614C8.42967 14.7212 8.2167 14.7775 8 14.7775C7.7833 14.7775 7.57033 14.7212 7.382 14.614L7.10467 14.4526L6.758 14.2393L6.63 14.156L6.35667 13.974C5.61532 13.4722 4.92471 12.8993 4.29467 12.2633C3.11733 11.0586 2 9.38265 2 7.33331C2 5.74201 2.63214 4.21589 3.75736 3.09067C4.88258 1.96545 6.4087 1.33331 8 1.33331ZM8 2.66665C6.76232 2.66665 5.57534 3.15831 4.70017 4.03348C3.825 4.90865 3.33333 6.09564 3.33333 7.33331C3.33333 8.88131 4.18133 10.24 5.24733 11.3306C5.70575 11.7946 6.20116 12.2204 6.72867 12.604L7.034 12.8213C7.13267 12.89 7.22733 12.954 7.31867 13.0133L7.57867 13.18L7.80733 13.3193L8 13.432L8.30333 13.2526L8.548 13.0993C8.678 13.0166 8.818 12.924 8.966 12.8213L9.27133 12.604C9.79884 12.2204 10.2943 11.7946 10.7527 11.3306C11.8187 10.2406 12.6667 8.88131 12.6667 7.33331C12.6667 6.09564 12.175 4.90865 11.2998 4.03348C10.4247 3.15831 9.23768 2.66665 8 2.66665ZM8 4.66665C8.70724 4.66665 9.38552 4.9476 9.88562 5.44769C10.3857 5.94779 10.6667 6.62607 10.6667 7.33331C10.6667 8.04056 10.3857 8.71883 9.88562 9.21893C9.38552 9.71903 8.70724 9.99998 8 9.99998C7.29276 9.99998 6.61448 9.71903 6.11438 9.21893C5.61428 8.71883 5.33333 8.04056 5.33333 7.33331C5.33333 6.62607 5.61428 5.94779 6.11438 5.44769C6.61448 4.9476 7.29276 4.66665 8 4.66665ZM8 5.99998C7.64638 5.99998 7.30724 6.14046 7.05719 6.3905C6.80714 6.64055 6.66667 6.97969 6.66667 7.33331C6.66667 7.68693 6.80714 8.02607 7.05719 8.27612C7.30724 8.52617 7.64638 8.66665 8 8.66665C8.35362 8.66665 8.69276 8.52617 8.94281 8.27612C9.19286 8.02607 9.33333 7.68693 9.33333 7.33331C9.33333 6.97969 9.19286 6.64055 8.94281 6.3905C8.69276 6.14046 8.35362 5.99998 8 5.99998Z" fill="#1979F4" />
                                                </g>
                                                <defs>
                                                      <clipPath id="clip0_405_299">
                                                            <rect width="16" height="16" fill="white" />
                                                      </clipPath>
                                                </defs>
                                          </svg>
                                    </div>
                                    <span>{location}</span>
                              </div>
                              <div className='flex items-center gap-2 text-gray-500'>
                                    <div>
                                          {/* <FontAwesomeIcon
                                          icon={faBoxOpen}
                                    /> */}
                                          <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M7.66667 1H11.6667V5H7.66667V1ZM1 7.66667H5V11.6667H1V7.66667ZM7.66667 9.66667C7.66667 10.1971 7.87738 10.7058 8.25245 11.0809C8.62753 11.456 9.13623 11.6667 9.66667 11.6667C10.1971 11.6667 10.7058 11.456 11.0809 11.0809C11.456 10.7058 11.6667 10.1971 11.6667 9.66667C11.6667 9.13623 11.456 8.62753 11.0809 8.25245C10.7058 7.87738 10.1971 7.66667 9.66667 7.66667C9.13623 7.66667 8.62753 7.87738 8.25245 8.25245C7.87738 8.62753 7.66667 9.13623 7.66667 9.66667ZM1 3C1 3.26264 1.05173 3.52272 1.15224 3.76537C1.25275 4.00802 1.40007 4.2285 1.58579 4.41421C1.7715 4.59993 1.99198 4.74725 2.23463 4.84776C2.47728 4.94827 2.73736 5 3 5C3.26264 5 3.52272 4.94827 3.76537 4.84776C4.00802 4.74725 4.2285 4.59993 4.41421 4.41421C4.59993 4.2285 4.74725 4.00802 4.84776 3.76537C4.94827 3.52272 5 3.26264 5 3C5 2.73736 4.94827 2.47728 4.84776 2.23463C4.74725 1.99198 4.59993 1.7715 4.41421 1.58579C4.2285 1.40007 4.00802 1.25275 3.76537 1.15224C3.52272 1.05173 3.26264 1 3 1C2.73736 1 2.47728 1.05173 2.23463 1.15224C1.99198 1.25275 1.7715 1.40007 1.58579 1.58579C1.40007 1.7715 1.25275 1.99198 1.15224 2.23463C1.05173 2.47728 1 2.73736 1 3Z" stroke="#16A34A" stroke-linecap="round" stroke-linejoin="round" />
                                          </svg>
                                    </div>
                                    <span>{category}</span>
                              </div>
                        </div>
                        <div className='mt-2'>
                              <p className='common_description'>{
                                    !textExpand ?
                                          <>
                                                {postContent.slice(0, 220)}
                                                {"... "}
                                                <span
                                                      onClick={() => setTextExpand(true)}
                                                      className='font-semibold cursor-pointer hover:underline'>{"See more"}</span>
                                          </> :
                                          <>
                                                {postContent}
                                          </>
                              }</p>
                        </div>
                  </div>
            </div>
      );
};

export default E_PostTitleDes